@model IEnumerable<AplicatieCamine.Models.Camine>
@using System;
@{
	ViewData["Title"] = "Index";
	int count = System.IO.Directory.EnumerateFiles(@"wwwroot/Images/camine").Count<string>();
}

<h1>Cămine @count</h1>

<p>
    <a asp-action="Create">Add data</a>
</p>
<table class="table">
    <thead>
		<tr>
			<th>
				@Html.DisplayNameFor(model => model.IdCamin)
			</th>
			<th>
				@Html.DisplayNameFor(model => model.Adresa)
			</th>
			<th>
				@Html.DisplayNameFor(model => model.NrCamere)
			</th>
			<th>
				@Html.DisplayNameFor(model => model.NrLocuri)
			</th>
			<th>
				@Html.DisplayNameFor(model => model.Facultate)
			</th>
			<th>
				Images
			</th>
			<th>
				@Html.DisplayNameFor(model => model.Descriere)
			</th>
			<th></th>
		</tr>
    </thead>
    <tbody>
@foreach (var item in Model) {
	Random r = new Random();
	string rand = "Images/camine/" + r.Next(1, count).ToString() + ".jpg";
		<tr>
			<td>
				@Html.DisplayFor(modelItem => item.IdCamin)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.Adresa)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.NrCamere)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.NrLocuri)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.Facultate)
			</td>
			<td>
				<img src="@rand" width="50" height="50" />
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.Descriere)
			</td>
			<td>
				<a asp-action="Edit" asp-route-id="@item.IdCamin">Edit</a> |
				<a asp-action="Details" asp-route-id="@item.IdCamin">Details</a> |
				<a asp-action="Delete" asp-route-id="@item.IdCamin">Delete</a>
			</td>
		</tr>
}
    </tbody>
</table>
